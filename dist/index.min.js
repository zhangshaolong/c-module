!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var r in n)("object"==typeof exports?exports:t)[r]=n[r]}}(window,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);class r{constructor(t){for(var e in t)this[e]=t[e]}child(t){const e=function(t){for(var e in t)this[e]=t[e]};return e.prototype=this,new e(t)}}let o=null;const i={},s=t=>{o=t};var a=(t,e,n,s)=>{o&&Promise.all(o(t)).then(o=>{const a=new(0,o[0].default)(e),u=((t,e)=>{let n=t.parentNode;for(;n;){if(n.tagName===e)return i[n.getAttribute("path")];n=n.parentNode}})(n,n.tagName);let l;if(u){if(l=u.data.child(),a.data)for(let t in a.data)l[t]=a.data[t]}else l=new r(a.data);a.data=l,a.container=n,i[t]=a,a.tpl=o[1].default,s.module=a,a.init(e)})};function u(){return Reflect.construct(HTMLElement,[],this.__proto__.constructor)}Object.setPrototypeOf(u.prototype,HTMLElement.prototype),Object.setPrototypeOf(u,HTMLElement);const l={className:(t,e)=>t.classList.contains(e),id:(t,e)=>t.getAttribute("id")===e,element:(t,e)=>t===e,tag:(t,e)=>t.tagName===e.toUpperCase()},c=(t,e,n,r)=>{if(e){if(r(e,n))return e;if(e!==t)return c(t,e.parentNode,n,r)}};class d{constructor(t){this.toBeDisposes=[]}init(t){this.render();let e=this.bindEvents();e&&this.delegate(e),this.inited(t)}inited(t){}bindEvents(){}update(t){}delegate(t){for(let e in t){let n=t[e];Array.isArray(n)||(n=[n]);const r=t=>{const e=t.target;for(let r=0;r<n.length;r++){const o=n[r],i=l[o.type];let s=c(this.container,e,o.value,i);s&&o.handler.call(this,s,t)}};this.container.addEventListener(e,r,!0),this.toBeDisposes.push(()=>{this.container.removeEventListener(e,r,!0)})}}render(t){this.tpl&&(this.container.innerHTML=this.tpl(t||this.data))}dispose(){this.toBeDisposes.forEach(t=>{t()}),this.toBeDisposes.length=0}}customElements.define("c-module",class extends u{static get observedAttributes(){return["querys"]}constructor(){super(),this.attributeChangedTimer=null}connectedCallback(){let t=this.getAttribute("path");null!=t&&a(t,JSON.parse(this.getAttribute("querys")),this,this)}disconnectedCallback(){this.module&&this.module.dispose()}attributeChangedCallback(t,e,n){clearTimeout(this.attributeChangedTimer),this.attributeChangedTimer=setTimeout(()=>{"querys"===t&&this.module&&this.module.update(JSON.parse(n))},0)}});const p=[],f={context:{path:null,module:null},start:(t,e)=>{window.addEventListener("hashchange",n=>{let r=window.location.hash;r||(r="#/");let o=r.slice(1).split("?"),i=(t=>{const e={};return t.replace(/(?:\?|&)([^=]+)=([^&$]*)/g,(t,n,r)=>{e[n]=decodeURIComponent(r)}),e})("?"+o[1]),s=o[0],u=t[s];if(u||(u=t[404]),u){e.setAttribute("path",u);const t=f.context;let n=t.path;n!==s?(t.path=s,t.module&&t.module.dispose(),a(u,i,e,t)):t.module.update(i),p.forEach(t=>{t(s,n,i)})}else console.log("404")},!1);const n=document.createEvent("HTMLEvents");n.initEvent("hashchange",!0,!0),window.dispatchEvent(n)},watch:t=>{p.push(t)}};var h=f;n.d(e,"Module",function(){return d}),n.d(e,"setLoader",function(){return s}),n.d(e,"Router",function(){return h})}])});